<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pok√©mon Type Quiz</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f0f0f0;
            transform: scale(1.5);
            transform-origin: top center;
            margin: 40px 0;
        }
        #question {
            font-size: 24px;
            margin: 20px;
        }
        #slots {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px;
        }
        .slot {
            width: 100px;
            height: 100px;
            border: 2px dashed #333;
            background-color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        #types {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 20px;
            max-width: 810px;
            margin-left: auto;
            margin-right: auto;
        }
        .type-icon {
            width: 80px;
            cursor: pointer;
        }
        #check, #next {
            padding: 10px 20px;
            font-size: 16px;
            margin: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
        #check:hover, #next:hover {
            background-color: #45a049;
        }
        #next {
            display: none;
        }
        #result {
            font-size: 18px;
            margin: 20px;
        }
        #score {
            font-size: 20px;
            margin: 10px;
        }
    </style>
</head>
<body>
    <div id="score">Score: <span id="score-value">0</span></div>
    <div id="question"></div>
    <div id="slots">
        <!-- Slots will be dynamically generated -->
    </div>
    <div id="types">
        <img src="https://pokedoku-space.nyc3.cdn.digitaloceanspaces.com/resources/pokemon_types/normal.png" class="type-icon" data-type="normal">
        <img src="https://pokedoku-space.nyc3.cdn.digitaloceanspaces.com/resources/pokemon_types/fire.png" class="type-icon" data-type="fire">
        <img src="https://pokedoku-space.nyc3.cdn.digitaloceanspaces.com/resources/pokemon_types/water.png" class="type-icon" data-type="water">
        <img src="https://pokedoku-space.nyc3.cdn.digitaloceanspaces.com/resources/pokemon_types/grass.png" class="type-icon" data-type="grass">
        <img src="https://pokedoku-space.nyc3.cdn.digitaloceanspaces.com/resources/pokemon_types/electric.png" class="type-icon" data-type="electric">
        <img src="https://pokedoku-space.nyc3.cdn.digitaloceanspaces.com/resources/pokemon_types/ice.png" class="type-icon" data-type="ice">
        <img src="https://pokedoku-space.nyc3.cdn.digitaloceanspaces.com/resources/pokemon_types/fighting.png" class="type-icon" data-type="fighting">
        <img src="https://pokedoku-space.nyc3.cdn.digitaloceanspaces.com/resources/pokemon_types/poison.png" class="type-icon" data-type="poison">
        <img src="https://pokedoku-space.nyc3.cdn.digitaloceanspaces.com/resources/pokemon_types/ground.png" class="type-icon" data-type="ground">
        <img src="https://pokedoku-space.nyc3.cdn.digitaloceanspaces.com/resources/pokemon_types/flying.png" class="type-icon" data-type="flying">
        <img src="https://pokedoku-space.nyc3.cdn.digitaloceanspaces.com/resources/pokemon_types/psychic.png" class="type-icon" data-type="psychic">
        <img src="https://pokedoku-space.nyc3.cdn.digitaloceanspaces.com/resources/pokemon_types/bug.png" class="type-icon" data-type="bug">
        <img src="https://pokedoku-space.nyc3.cdn.digitaloceanspaces.com/resources/pokemon_types/rock.png" class="type-icon" data-type="rock">
        <img src="https://pokedoku-space.nyc3.cdn.digitaloceanspaces.com/resources/pokemon_types/ghost.png" class="type-icon" data-type="ghost">
        <img src="https://pokedoku-space.nyc3.cdn.digitaloceanspaces.com/resources/pokemon_types/dragon.png" class="type-icon" data-type="dragon">
        <img src="https://pokedoku-space.nyc3.cdn.digitaloceanspaces.com/resources/pokemon_types/dark.png" class="type-icon" data-type="dark">
        <img src="https://pokedoku-space.nyc3.cdn.digitaloceanspaces.com/resources/pokemon_types/steel.png" class="type-icon" data-type="steel">
        <img src="https://pokedoku-space.nyc3.cdn.digitaloceanspaces.com/resources/pokemon_types/fairy.png" class="type-icon" data-type="fairy">
    </div>
    <button id="check" onclick="checkAnswer()">Check</button>
    <button id="next" onclick="nextQuestion()">Next</button>
    <div id="result"></div>

    <script>
        const questions = [
            { question: "Against which types is Normal effective?", answers: [] },
            { question: "Against which types is Fire effective?", answers: ["grass", "ice", "bug", "steel"] },
            { question: "Against which types is Water effective?", answers: ["fire", "ground", "rock"] },
            { question: "Against which types is Grass effective?", answers: ["water", "ground", "rock"] },
            { question: "Against which types is Electric effective?", answers: ["water", "flying"] },
            { question: "Against which types is Ice effective?", answers: ["grass", "ground", "flying", "dragon"] },
            { question: "Against which types is Fighting effective?", answers: ["normal", "ice", "rock", "dark", "steel"] },
            { question: "Against which types is Poison effective?", answers: ["grass", "fairy"] },
            { question: "Against which types is Ground effective?", answers: ["fire", "electric", "poison", "rock", "steel"] },
            { question: "Against which types is Flying effective?", answers: ["grass", "fighting", "bug"] },
            { question: "Against which types is Psychic effective?", answers: ["fighting", "poison"] },
            { question: "Against which types is Bug effective?", answers: ["grass", "psychic", "dark"] },
            { question: "Against which types is Rock effective?", answers: ["fire", "ice", "flying", "bug"] },
            { question: "Against which types is Ghost effective?", answers: ["psychic", "ghost"] },
            { question: "Against which types is Dragon effective?", answers: ["dragon"] },
            { question: "Against which types is Dark effective?", answers: ["psychic", "ghost"] },
            { question: "Against which types is Steel effective?", answers: ["ice", "rock", "fairy"] },
            { question: "Against which types is Fairy effective?", answers: ["fighting", "dragon", "dark"] }
        ];

        // Shuffle function (Fisher-Yates algorithm)
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Shuffle questions on load
        const shuffledQuestions = shuffle([...questions]); // Create a shuffled copy
        let currentQuestionIndex = 0;
        let score = 0;

        function loadQuestion() {
            const question = shuffledQuestions[currentQuestionIndex];
            document.getElementById("question").textContent = question.question;
            const slotsDiv = document.getElementById("slots");
            slotsDiv.innerHTML = "";
            if (question.answers.length === 0) {
                slotsDiv.textContent = "None";
            } else {
                question.answers.forEach(() => {
                    const slot = document.createElement("div");
                    slot.className = "slot";
                    slot.onclick = removeFromSlot;
                    slotsDiv.appendChild(slot);
                });
            }
            document.getElementById("next").style.display = "none";
            document.getElementById("result").textContent = "";
            resetIcons();
        }

        function resetIcons() {
            const icons = document.querySelectorAll(".type-icon");
            icons.forEach(icon => {
                icon.style.opacity = "1";
                icon.onclick = addToSlot;
            });
        }

        function addToSlot(e) {
            const type = e.target.dataset.type;
            const slots = document.querySelectorAll(".slot");
            for (let slot of slots) {
                if (!slot.querySelector("img")) {
                    const img = document.createElement("img");
                    img.src = e.target.src;
                    img.className = "type-icon";
                    img.dataset.type = type;
                    img.style.opacity = "0.5";
                    img.onclick = removeFromSlot;
                    slot.appendChild(img);
                    e.target.style.opacity = "0.5";
                    e.target.onclick = null;
                    break;
                }
            }
        }

        function removeFromSlot(e) {
            const target = e.target;
            if (target.className === "type-icon" && target.parentNode.className === "slot") {
                const slot = target.parentNode;
                const type = target.dataset.type;
                slot.removeChild(target);
                const originalIcon = document.querySelector(`.type-icon[data-type="${type}"]`);
                originalIcon.style.opacity = "1";
                originalIcon.onclick = addToSlot;
            } else if (target.className === "slot" && target.querySelector("img")) {
                const img = target.querySelector("img");
                const type = img.dataset.type;
                target.removeChild(img);
                const originalIcon = document.querySelector(`.type-icon[data-type="${type}"]`);
                originalIcon.style.opacity = "1";
                originalIcon.onclick = addToSlot;
            }
        }

        function checkAnswer() {
            const question = shuffledQuestions[currentQuestionIndex];
            if (question.answers.length === 0) {
                document.getElementById("result").textContent = "Correct! Normal is not super effective against any type.";
                score += 10;
                document.getElementById("score-value").textContent = score;
                document.getElementById("next").style.display = "inline";
                return;
            }
            const slots = document.querySelectorAll(".slot");
            let userAnswers = [];
            slots.forEach(slot => {
                const img = slot.querySelector("img");
                if (img) userAnswers.push(img.dataset.type);
            });

            if (userAnswers.length !== question.answers.length) {
                document.getElementById("result").textContent = "Please fill all slots!";
                return;
            }

            const correct = userAnswers.every(answer => question.answers.includes(answer)) &&
                            question.answers.every(answer => userAnswers.includes(answer));
            if (correct) {
                document.getElementById("result").textContent = "Correct! Well done!";
                score += 10;
                document.getElementById("score-value").textContent = score;
                document.getElementById("next").style.display = "inline";
            } else {
                document.getElementById("result").textContent = `Wrong! Correct answers: ${question.answers.join(", ")}`;
            }
        }

        function nextQuestion() {
            currentQuestionIndex = (currentQuestionIndex + 1) % shuffledQuestions.length;
            loadQuestion();
        }

        // Add click event listeners to type icons
        document.querySelectorAll(".type-icon").forEach(icon => {
            icon.onclick = addToSlot;
        });

        // Load the first question on page load
        loadQuestion();
    </script>
</body>
</html>
